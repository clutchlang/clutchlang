language: node_js  

branches:
  only:
    - master

sudo: required
before_install:
  # Repo for Yarn
  - sudo apt-key adv --fetch-keys http://dl.yarnpkg.com/debian/pubkey.gpg
  - echo "deb http://dl.yarnpkg.com/debian/ stable main" | sudo tee /etc/apt/sources.list.d/yarn.list
  - sudo apt-get update -qq
  - sudo apt-get install -y -qq yarn

install:
  - yarn install --ignore-engines

cache:
  yarn: true
  directories:
     - ./node_modules

# Build stages: https://docs.travis-ci.com/user/build-stages/.
stages:
  - presubmit

jobs:
  include:
    - stage: presubmit
      script: npm run lint
    - stage: presubmit
      script: npm run format:check
